<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CORS Proxy Tester</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>CORS Proxy Tester</h1>
    <p>Use this page to test your CORS proxy server deployed on Vercel.</p>

    <div class="container">
        <h2>Configuration</h2>
        <label for="proxyUrl">Proxy URL:</label>
        <input type="text" id="proxyUrl" placeholder="https://your-proxy.vercel.app/api/proxy"
            value="https://cors-proxy-xi-ten.vercel.app/api/proxy">
    </div>

    <div class="container">
        <h2>Request</h2>
        <label for="targetUrl">Target URL:</label>
        <input type="text" id="targetUrl" placeholder="https://api.example.com/data"
            value="https://jsonplaceholder.typicode.com/posts/1">

        <label for="requestUrl">Request URL Preview:</label>
        <div id="requestUrl" class="request-url">
            <code id="requestUrlCode">https://cors-proxy-xi-ten.vercel.app/api/proxy?url=https://jsonplaceholder.typicode.com/posts/1</code>
            <button class="copy-btn" onclick="copyToClipboard('requestUrlCode')">Copy</button>
        </div>

        <label for="method">HTTP Method:</label>
        <select id="method">
            <option value="GET">GET</option>
            <option value="POST">POST</option>
            <option value="PUT">PUT</option>
            <option value="PATCH">PATCH</option>
            <option value="DELETE">DELETE</option>
            <option value="HEAD">HEAD</option>
            <option value="OPTIONS">OPTIONS</option>
        </select>

        <label for="headers">Headers (JSON format):</label>
        <textarea id="headers" placeholder='{"Content-Type": "application/json"}'>{
  "Content-Type": "application/json",
  "Accept": "application/json"
}</textarea>

        <label for="body">Request Body (for POST, PUT, PATCH):</label>
        <textarea id="body" placeholder='{"key": "value"}'></textarea>

        <button id="sendBtn">Send Request</button>
        <button id="clearBtn" onclick="clearResponse()">Clear Response</button>
    </div>

    <div class="container">
        <h2>Response</h2>
        <div id="statusContainer"></div>

        <div class="tabs">
            <div class="tab active" data-tab="data">Data</div>
            <div class="tab" data-tab="headers">Headers</div>
            <div class="tab" data-tab="raw">Raw Response</div>
            <div class="tab" data-tab="request">Request Details</div>
        </div>

        <div id="dataContainer" class="response">
            <pre id="responseData">No data yet. Send a request to see results.</pre>
        </div>

        <div id="headersContainer" class="response" style="display:none;">
            <pre id="responseHeaders">No headers yet. Send a request to see results.</pre>
        </div>

        <div id="rawContainer" class="response" style="display:none;">
            <pre id="rawResponse">No raw response yet. Send a request to see results.</pre>
        </div>

        <div id="requestContainer" class="response" style="display:none;">
            <pre id="requestDetails">No request details yet. Send a request to see results.</pre>
        </div>
    </div>

    <div class="container">
        <h2>Request Examples</h2>
        <button onclick="loadExample('jsonplaceholder')">JSONPlaceholder (GET)</button>
        <button onclick="loadExample('post')">Example POST</button>
        <button onclick="loadExample('put')">Example PUT</button>
        <button onclick="loadExample('image')">Image Request</button>
        <button onclick="loadExample('weather')">Weather API</button>
    </div>

    <script src="js/main.js"></script>
    <script src="js/examples.js"></script>
</body>
</html>